name: unimarkup-rs
about: Unimarkup implementation written in rust

args:

# ----------- Options -------------------------------------------------------------------------
## General options 

    - outputs:
        display_order: 1
        short: o
        long: outputs
        help: Set output formats the Unimarkup document should be rendered to. Set outputs are also treated as flags inside the Unimarkup document.
        takes_value: true
        use_delimiter: true
        possible_values:
            - pdf
            - html
            - markdown
            - revealjs
            - intermediate
  
    - insert_paths:
        display_order: 2
        short: i
        long: insert-paths
        help: Set paths that are searched for relative file and image inserts.
        takes_value: true
        use_delimiter: true

    - dot_unimarkup:
        display_order: 3
        long: dot-unimarkup
        alias: config
        env: UNIMARKUP_CONFIG
        help: |
          Set the path to a directory that is used for default preamble and theme settings.
          The intermediate form of rendered documents will also be stored at this path.
        takes_value: true

    - theme:
        display_order: 5
        short: t
        long: theme
        help: Set a Unimarkup theme file to be used for rendering.
        takes_value: true

    - flags:
        display_order: 6
        short: f
        long: flags
        help: Set flags that will be set for rendering.
        takes_value: true
        use_delimiter: true

    - enable_elements:
        display_order: 7
        long: enable-elements
        help: |
          Explicitly set Unimarkup block elements that can be used inside the given Unimarkup document.
          If this option is set, all Unimarkup elements that are not given are disabled.
        takes_value: true
        use_delimiter: true
        possible_values:
            - paragraph
            - heading
            - bullet-list
            - numbered-list
            - task-list
            - definition-list
            - table
            - verbatim-block
            - render-block
            - math-block
            - figure-insert
            - verbatim-block-insert
            - render-block-insert
            - text-block
            - quotation-block
            - line-block
            - definition-block
            - explicit-column
            - implicit-column
            - field-block
            - output-block
            - media-block-insert
            - form-block
            - macros
            - variables

    - disable_elements:
        display_order: 8
        long: disable-elements
        help: |
          Explicitly set Unimarkup block elements that can NOT be used inside the given Unimarkup document.
          If this option is set, all Unimarkup elements that are not given are enabled.
        takes_value: true
        use_delimiter: true
        possible_values:
            - paragraph
            - heading
            - bullet-list
            - numbered-list
            - task-list
            - definition-list
            - table
            - verbatim-block
            - render-block
            - math-block
            - figure-insert
            - verbatim-block-insert
            - render-block-insert
            - text-block
            - quotation-block
            - line-block
            - definition-block
            - explicit-column
            - implicit-column
            - field-block
            - output-block
            - media-block-insert
            - form-block
            - macros
            - variables

    - fonts:
        display_order: 10
        long: fonts
        alias: ttf
        alias: woff
        help: Set ttf or woff fonts to be able to use them for rendering
        takes_value: true
        use_delimiter: true

    - relative_insert_prefix:
        display_order: 20
        long: relative-insert-prefix
        alias: insert-prefix
        help: |
          This prefix will be set before inserts in the rendered document to inserts that use relative paths.
          Note: During rendering, the original relative path is taken.
        takes_value: true

## Reference options

    - citation_style:
        display_order: 30
        long: citation-style
        alias: csl
        help: Set citation style sheet that is used to process referenced literature
        takes_value: true
        requires:
            - references

    - references:
        display_order: 31
        long: references
        alias: refs
        help: Set one or more reference files in bibtex or JSON format to use them with literature referencing.
        takes_value: true
        use_delimiter: true
        requires:
            - citation_style

## HTML options

    - html_template:
        display_order: 40
        long: html-template
        help: |
          Set a template html file with `{{ head }}` set inside the `head` element and `{{ body }}` set inside the body element.
          Styling, fonts and scripts will be inserted at `{{ head }}` and the rendered Unimarkup content is placed inside `{{ body }}`.
          Optionally, `{{ toc }}` can be set to get the table of contents (Note: This will not remove a rendered table of contents inside the rendered Unimarkup content if present).
        takes_value: true

    - html_mathmode:
        display_order: 41
        long: html-mathmode
        help: Set the mathmode of MathJax to be used for rendered html documents.
        takes_value: true
        possible_values:
            - svg
            - embed
            - cdn

# ----------- Flags ---------------------------------------------------------------------------
## General flags

    - overwrite_existing:
        display_order: 1
        short: w
        long: overwrite-existing
        help: Overwrites files with set `filename` if already existing. 

    - clean:
        display_order: 2
        short: c
        long: clean
        help: Deletes all previously rendered documents stored inside the UNIMARKUP_CONFIG path.

    - rebuild:
        display_order: 3
        short: r
        long: rebuild
        help: Ignores all previously rendered documents stored inside the UNIMARKUP_CONFIG path and renders the given Unimarkup file.

    - replace_preamble:
        display_order: 20
        long: replace-preamble
        help: |
          Set if preamble of given Unimarkup file is replaced with the given arguments.
          If not set, given arguments overwrite the corresponding preamble settings, but other settings
          are still used.
        requires:
            - outputs

## HTML flags

    - html_embed_svg:
        display_order: 40
        long: html-embed-svg
        help: Set if svgs should be embedded into html instead of inserted as regular images.

# --------- Positionals -------------------------------------------------------------------------

    - um_file:
        index: 1
        help: The filename of the Unimarkup file that is used as root for rendering.
        value_name: UM-FILE
        required: true

    - out_file:
        index: 2 
        help: The filename without filetype to be used for output filenames. If a path is part of the filename, output files are saved at the given path.
        value_name: OUTPUT-FILE
